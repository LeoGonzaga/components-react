// Select Component Styles
// Modern, accessible select dropdown

.ui-select {
  position: relative;
  width: 100%;
  
  &__trigger {
    display: flex;
    align-items: center;
    justify-content: between;
    width: 100%;
    height: spacing(10);
    padding: 0 spacing(3);
    border: 1px solid var(--border);
    border-radius: var(--radius-md);
    background-color: var(--background);
    color: var(--foreground);
    @include text-sm;
    @include transition-colors;
    @include focus-ring;
    cursor: pointer;
    
    &:hover {
      border-color: var(--ring);
    }
  }
  
  &__value {
    flex: 1;
    text-align: left;
    color: var(--foreground);
    
    &:empty::before {
      content: attr(data-placeholder);
      color: var(--muted-foreground);
    }
  }
  
  &__actions {
    display: flex;
    align-items: center;
    gap: spacing(1);
    margin-left: spacing(2);
  }
  
  &__clear {
    display: flex;
    align-items: center;
    justify-content: center;
    width: spacing(4);
    height: spacing(4);
    border: none;
    background: none;
    color: var(--muted-foreground);
    cursor: pointer;
    border-radius: var(--radius-sm);
    @include transition-colors;
    
    &:hover {
      color: var(--foreground);
      background-color: var(--muted);
    }
  }
  
  &__chevron {
    color: var(--muted-foreground);
    @include transition-transform;
    
    &--open {
      transform: rotate(180deg);
    }
  }
  
  &__dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    z-index: z-index(dropdown);
    margin-top: spacing(1);
    border: 1px solid var(--border);
    border-radius: var(--radius-md);
    background-color: var(--popover);
    box-shadow: shadow(lg);
    animation: scale-in 150ms ease-out;
    max-height: 300px;
    overflow: hidden;
  }
  
  &__search {
    padding: spacing(2);
    border-bottom: 1px solid var(--border);
  }
  
  &__search-input {
    width: 100%;
    height: spacing(8);
    padding: 0 spacing(2);
    border: 1px solid var(--border);
    border-radius: var(--radius-sm);
    background-color: var(--background);
    color: var(--foreground);
    @include text-sm;
    @include focus-ring;
    
    &::placeholder {
      color: var(--muted-foreground);
    }
    
    &:focus {
      border-color: var(--ring);
      outline: none;
    }
  }
  
  &__options {
    max-height: 200px;
    overflow-y: auto;
    padding: spacing(1);
  }
  
  &__option {
    display: flex;
    align-items: center;
    gap: spacing(2);
    padding: spacing(2) spacing(2);
    border-radius: var(--radius-sm);
    @include text-sm;
    cursor: pointer;
    @include transition-colors;
    
    &:hover {
      background-color: var(--accent);
      color: var(--accent-foreground);
    }
    
    &--selected {
      background-color: var(--accent);
      color: var(--accent-foreground);
    }
    
    &--disabled {
      opacity: 0.5;
      cursor: not-allowed;
      
      &:hover {
        background-color: transparent;
        color: var(--muted-foreground);
      }
    }
    
    &--empty {
      color: var(--muted-foreground);
      cursor: default;
      
      &:hover {
        background-color: transparent;
        color: var(--muted-foreground);
      }
    }
  }
  
  &__option-checkbox {
    display: flex;
    align-items: center;
    justify-content: center;
    width: spacing(4);
    height: spacing(4);
    border: 1px solid var(--border);
    border-radius: var(--radius-sm);
    background-color: var(--background);
    color: var(--primary-foreground);
    
    .ui-select__option--selected & {
      background-color: var(--primary);
      border-color: var(--primary);
    }
  }
  
  &__option-label {
    flex: 1;
  }
  
  &__option-check {
    color: var(--primary);
  }
  
  // States
  &--disabled {
    .ui-select__trigger {
      opacity: 0.5;
      cursor: not-allowed;
      background-color: var(--muted);
      
      &:hover {
        border-color: var(--border);
      }
    }
  }
  
  &--error {
    .ui-select__trigger {
      border-color: var(--destructive);
      
      &:focus {
        border-color: var(--destructive);
        box-shadow: 0 0 0 2px color(error-100);
      }
      
      .dark & {
        &:focus {
          box-shadow: 0 0 0 2px color(error-900);
        }
      }
    }
  }
  
  &--open {
    .ui-select__trigger {
      border-color: var(--ring);
    }
  }
}

// Custom scrollbar for options
.ui-select__options {
  scrollbar-width: thin;
  scrollbar-color: var(--muted-foreground) transparent;
  
  &::-webkit-scrollbar {
    width: 6px;
  }
  
  &::-webkit-scrollbar-track {
    background: transparent;
  }
  
  &::-webkit-scrollbar-thumb {
    background-color: var(--muted-foreground);
    border-radius: 3px;
    
    &:hover {
      background-color: var(--foreground);
    }
  }
}

